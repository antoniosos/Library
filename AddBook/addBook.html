<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Book</title>
</head>
<body>
    <button onclick="redirectToHome()">Go back to Home page</button>

    <script>
        function redirectToHome() {
            // Replace "page-url" with the actual URL of the page you want to redirect to
            window.location.href = "/HomePage/testPage.html";
        }
    </script>
    <h1>Add Book</h1>
    <form id="bookForm" onsubmit="submitForm(event)">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" required>
        <br><br>
        
        <label for="author">Author:</label>
        <input type="text" id="author" name="author" required>
        <br><br>
        
        <label for="genre">Genre:</label>
        <input type="text" id="genre" name="genre" required>
        <br><br>
        
        <label for="page_count">Page Count:</label>
        <input type="number" id="page_count" name="page_count" required>
        <br><br>
        
        <label for="contents">Contents(short description):</label>
        <textarea id="contents" name="contents"></textarea>
        <br><br>
        
        <label for="coverImgString">Cover Image String(URL):</label>
        <input type="text" id="coverImgString" name="coverImgString">
        <br><br>
        
        <label for="starRating">Star rating String(up to 5 "*"):</label>
        <input type="text" id="starRating" name="starRating">
        <br><br>

        <label for="readState">Read State String:</label>
        <input type="text" id="readState" name="reaadState">
        <br><br>


        <input type="submit" value="Add Book">
    </form>

    <script>
        function submitForm(event) {
            event.preventDefault(); // Prevent the default form submission
    
            // Get the form data
            const form = document.getElementById("bookForm");
            const formData = new FormData(form);
    
            // Create a new AJAX request
            const xhr = new XMLHttpRequest();
            xhr.open("POST", "insertBook.php", true);
    
            xhr.onload = function() {
                console.log(this.responseText);
                // Handle the response
                // You can redirect to another page or display a success message
            };
    
            xhr.send(formData);
        }
    </script>
</body>
</html>
